/**
 * Minified by jsDelivr using UglifyJS v3.1.10.
 * Original file: /npm/es6-promise-pool@2.5.0/es6-promise-pool.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():(t.PromisePool=e(),t.promisePool=t.PromisePool)}(this,function(){"use strict";var t=function(){this._listeners={}};t.prototype.addEventListener=function(t,e){this._listeners[t]=this._listeners[t]||[],this._listeners[t].indexOf(e)<0&&this._listeners[t].push(e)},t.prototype.removeEventListener=function(t,e){if(this._listeners[t]){var i=this._listeners[t].indexOf(e);i>=0&&this._listeners[t].splice(i,1)}},t.prototype.dispatchEvent=function(t){if(this._listeners[t.type]&&this._listeners[t.type].length)for(var e=this._listeners[t.type].slice(),i=0,o=e.length;i<o;++i)e[i].call(this,t)};var e=function(t){var e=!1;return{next:function(){return e?{done:!0}:(e=!0,{value:t})}}},i=function(t,e,i){this.target=t,this.type=e,this.data=i},o=function(i,o,n){if(t.call(this),"number"!=typeof o||Math.floor(o)!==o||o<1)throw new Error("Invalid concurrency");this._concurrency=o,this._options=n||{},this._options.promise=this._options.promise||Promise,this._iterator=function(t,i){var o=typeof t;if("object"===o){if("function"==typeof t.next)return t;if("function"==typeof t.then)return e(t)}return"function"===o?function(t){return"function"==typeof t.constructor&&"GeneratorFunction"===t.constructor.name}(t)?t():function(t){return{next:function(){var e=t();return e?{value:e}:{done:!0}}}}(t):e(i.resolve(t))}(i,this._options.promise),this._done=!1,this._size=0,this._promise=null,this._callbacks=null};return o.prototype=new t,o.prototype.constructor=o,o.prototype.concurrency=function(t){return void 0!==t&&(this._concurrency=t,this.active()&&this._proceed()),this._concurrency},o.prototype.size=function(){return this._size},o.prototype.active=function(){return!!this._promise},o.prototype.promise=function(){return this._promise},o.prototype.start=function(){var t=this,e=this._options.promise;return this._promise=new e(function(e,i){t._callbacks={reject:i,resolve:e},t._proceed()}),this._promise},o.prototype._fireEvent=function(t,e){this.dispatchEvent(new i(this,t,e))},o.prototype._settle=function(t){t?this._callbacks.reject(t):this._callbacks.resolve(),this._promise=null,this._callbacks=null},o.prototype._onPooledPromiseFulfilled=function(t,e){this._size--,this.active()&&(this._fireEvent("fulfilled",{promise:t,result:e}),this._proceed())},o.prototype._onPooledPromiseRejected=function(t,e){this._size--,this.active()&&(this._fireEvent("rejected",{promise:t,error:e}),this._settle(e||new Error("Unknown error")))},o.prototype._trackPromise=function(t){var e=this;t.then(function(i){e._onPooledPromiseFulfilled(t,i)},function(i){e._onPooledPromiseRejected(t,i)}).catch(function(t){e._settle(new Error("Promise processing failed: "+t))})},o.prototype._proceed=function(){if(!this._done){for(var t={done:!1};this._size<this._concurrency&&!(t=this._iterator.next()).done;)this._size++,this._trackPromise(t.value);this._done=null===t||!!t.done}this._done&&0===this._size&&this._settle()},o.PromisePoolEvent=i,o.PromisePool=o,o});
//# sourceMappingURL=/sm/5021a1332b97301dc37400bfbfd8680f1d5f7ca35af9d2f1cd86df7ad81af41d.map